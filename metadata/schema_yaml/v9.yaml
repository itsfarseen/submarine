ErrorMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "docs"
      type: 
        type: "vec"
        item: "text"

EventMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "args"
      type: 
        type: "vec"
        item: "type"
    - name: "docs"
      type: 
        type: "vec"
        item: "text"

FunctionArgumentMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "type"
      type: "type"

FunctionMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "args"
      type: 
        type: "vec"
        item: "FunctionArgumentMetadata"
    - name: "docs"
      type: 
        type: "vec"
        item: "text"

Metadata:
  type: "struct"
  fields:
    - name: "modules"
      type: 
        type: "vec"
        item: "ModuleMetadata"

ModuleConstantMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "type"
      type: "type"
    - name: "value"
      type: "bytes"
    - name: "docs"
      type: 
        type: "vec"
        item: "text"

ModuleMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "storage"
      type: 
        type: "option"
        item: "StorageMetadata"
    - name: "calls"
      type: 
        type: "option"
        item:
          type: "vec"
          item: "FunctionMetadata"
    - name: "events"
      type: 
        type: "option"
        item:
          type: "vec"
          item: "EventMetadata"
    - name: "constants"
      type: 
        type: "vec"
        item: "ModuleConstantMetadata"
    - name: "errors"
      type: 
        type: "vec"
        item: "ErrorMetadata"

StorageEntryMetadata:
  type: "struct"
  fields:
    - name: "name"
      type: "text"
    - name: "modifier"
      type: "StorageEntryModifier"
    - name: "type"
      type: "StorageEntryType"
    - name: "fallback"
      type: "bytes"
    - name: "docs"
      type: 
        type: "vec"
        item: "text"

StorageEntryModifier:
  type: "enum_simple"
  variants:
    - "Optional"
    - "Default"
    - "Required"

StorageEntryType:
  type: "enum_complex"
  variants:
    - name: "Plain"
      type: "type"
    - name: "Map"
      type: StorageEntryMap
    - name: "DoubleMap"
      type: StorageEntryDoubleMap

StorageEntryMap:
  type: "struct"
  fields:
    - name: "hasher"
      type: "StorageHasher"
    - name: "key"
      type: "type"
    - name: "value"
      type: "type"
    - name: "linked"
      type: "bool"

StorageEntryDoubleMap:
  type: "struct"
  fields:
    - name: "hasher"
      type: "StorageHasher"
    - name: "key1"
      type: "type"
    - name: "key2"
      type: "type"
    - name: "value"
      type: "type"
    - name: "key2Hasher"
      type: "StorageHasher"

StorageHasher:
  type: "enum_simple"
  variants:
    - "Blake2_128"
    - "Blake2_256"
    - "Twox128"
    - "Twox256"
    - "Twox64Concat"

StorageMetadata:
  type: "struct"
  fields:
    - name: "prefix"
      type: "text"
    - name: "items"
      type: 
        type: "vec"
        item: "StorageEntryMetadata"
